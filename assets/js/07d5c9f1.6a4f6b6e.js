"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[230],{902:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>m,contentTitle:()=>h,default:()=>x,frontMatter:()=>u,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"creations/hyra-cafepos-orderlogs","title":"Hyra CafePOS Order Logs","description":"Prerequisites","source":"@site/docs/creations/hyra-cafepos-orderlogs.mdx","sourceDirName":"creations","slug":"/creations/hyra-cafepos-orderlogs","permalink":"/creations/hyra-cafepos-orderlogs","draft":false,"unlisted":false,"editUrl":"https://github.com/mrslugmoon/slugmoon-suite/tree/main/docs/creations/hyra-cafepos-orderlogs.mdx","tags":[],"version":"current","frontMatter":{"title":"Hyra CafePOS Order Logs"},"sidebar":"tutorialSidebar","previous":{"title":"Creations & Modules","permalink":"/category/creations--modules"},"next":{"title":"Slugmoon Suite","permalink":"/category/slugmoon-suite"}}');var i=n(4848),s=n(8453),o=n(7439),a=n(7635),d=n(6889),l=n(5906),c=n(3420);const u={title:"Hyra CafePOS Order Logs"},h=void 0,m={},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Creating an Exporter",id:"creating-an-exporter",level:2}];function g(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(c.A,{name:"check",color:"green"})," You must have an active Hyra Instance."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(c.A,{name:"check",color:"green"})," You must be able to create an API key."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(c.A,{name:"check",color:"green"})," You must own easyPOS's CafePOS."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"steps",children:"Steps"}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(r.p,{children:"Create an Exporter; you can use the section below to help you. Return back to this page afterwards."})}),(0,i.jsx)("div",{children:(0,i.jsxs)(r.p,{children:["Create a new ",(0,i.jsx)(a.A,{animated:!0,children:"Script"})," in ",(0,i.jsx)(a.A,{animated:!0,children:"ServerScriptService"}),". Name it anything."]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.p,{children:"Go inside the script and add the code below:"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-lua",children:'local apikey = "YOUR_API_KEY" -- Replace with your actual API KEY\r\nlocal workspaceid = "YOUR_WORKSPACE_ID" -- Replace with your workspace id.\r\nlocal exporterlocation = game.ServerScriptService:WaitForChild("OrderLogModule") -- Replace this with your exporter\'s location.\r\nlocal orderLog = require(exporterlocation)\r\norderLog.setupAPI(apikey, workspaceid)\n'})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(r.p,{children:"Make sure you have changed everything where it says to change it."})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.p,{children:["Create a ",(0,i.jsx)(a.A,{animated:!0,children:"ModuleScript"})," in your Addons folder in your CafePOS instance. You can name it Order Logging or anything else you want it to be."]}),(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"If you do not have an Addons folder, create one in the CafePOS instance."})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.p,{children:"Paste the code below into it. You are recommended not to modify it."}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-lua",children:'local Module = require(121652996197382)\r\nlocal API = Module.API\r\n\r\n\r\nlocal AddonId = 5378 -- This is required for interacting with the API\r\nlocal Menu = nil\r\nlocal OrderModule = require(game.ServerScriptService:WaitForChild("OrderLogModule"))\r\nlocal orders = {\r\n\r\n}\r\n\r\n\r\nlocal Menu = API:Invoke("GetMenu", { ID=AddonId })\r\n\r\nlocal function GetItem(ID)\r\n  for _, Category in pairs(Menu) do\r\n    if Category and Category.Items then -- Check if Category and its Items exist\r\n      for _, Item in pairs(Category.Items) do\r\n        if Item and Item.ID == ID then -- Check if Item and its ID exist\r\n          return Item\r\n        end\r\n      end\r\n    end\r\n  end\r\n  return nil\r\nend\r\n\r\nreturn {\r\n\r\n  Name = "Order Logging",\r\n\r\n  -- Triggers when the order handler is ready.\r\n  Initialise = function(ID)\r\n    AddonId = ID\r\n    Menu = API:Invoke("GetMenu", { ID=AddonId })\r\n  end,\r\n\r\n  -- Triggers when a new order is placed.\r\n  OrderCreated = function(Order)\r\n    local items = {}\r\n    local itemsToProcess = Order.Items\r\n    for _, itemData in pairs(itemsToProcess) do\r\n      local itemId = itemData.ID\r\n\r\n      local fullItemDetails = GetItem(itemId)\r\n\r\n      if fullItemDetails then\r\n        table.insert(items, fullItemDetails.Name)\r\n      else\r\n        warn("Item with ID:", itemId, "not found in the menu.")\r\n      end\r\n    end\r\n    game.ReplicatedStorage.test:Fire(Order)\r\n    local order = OrderModule.createOrder(Order.Player, Order.Player, {\r\n      items = items,\r\n      status = "waiting_for_preparation",\r\n    })\r\n    local player = Order.Player\r\n    orders[player] = order.id\r\n    items = {}\r\n\r\n  end,\r\n\r\n  -- Triggers when an order is removed by an admin (NOT COMPLETED).\r\n  OrderRemoved = function(Order)\r\n    OrderModule.setCancelled(orders[Order.Player])\r\n    orders[Order.Player] = nil\r\n  end,\r\n\r\n  -- Triggers when an order is claimed.\r\n  OrderClaimed = function(Order, Player)\r\n    OrderModule.setPreparing(orders[Order.Player], Player) -- Or spoof a player object (see docs - Creating an Order, Using User Object)\r\n  end,\r\n\r\n  -- Triggers when an order is unclaimed by an admin.\r\n  OrderUnclaimed = function(Order, Player)\r\n    OrderModule.setReprepare(orders[Order.Player])\r\n  end,\r\n\r\n  -- Triggers when an order is completed.\r\n  OrderCompleted = function(Order, Player)\r\n    OrderModule.setComplete(orders[Order.Player])\r\n    orders[Order.Player] = nil\r\n  end,\r\n\r\n  -- Triggers whenever an order is created or updated. All orders are returned.\r\n  OrdersUpdated = function(Orders)\r\n\r\n  end,\r\n}\n'})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(r.p,{children:"Ensure that is all saved. HTTP requests MUST be on."})})]}),"\n",(0,i.jsxs)(r.p,{children:["Enjoy your Order Logging system! If you need any help, my DMs are always open. If they are not, email me at ",(0,i.jsx)(r.a,{href:"mailto:slugmoon@slugmoon.com",children:"slugmoon@slugmoon.com"})]}),"\n",(0,i.jsx)(r.h2,{id:"limitations",children:"Limitations"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"You can't see who placed the order, due to lacking CafePOS APIs."}),"\n",(0,i.jsx)(r.li,{children:"If they ordered more than one of the same items, it may only show as one. Might work."}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"creating-an-exporter",children:"Creating an Exporter"}),"\n",(0,i.jsx)(r.p,{children:"Use the site below to create an Exporter for your CafePOS instance. This is required to use the Order Logging module."}),"\n",(0,i.jsx)(r.admonition,{type:"warning",children:(0,i.jsx)(r.p,{children:"The site below is not an actual site, do not try to visit it. We are using it as a placeholder for the Exporter creation.\r\nWe are not responsible for any issues that may occur if you try to visit it."})}),"\n",(0,i.jsxs)(d.A,{url:"https://docs.hyra.io/api-reference/players/module/creating-an-exporter/devs/raw",children:[(0,i.jsx)(r.h1,{id:"",children:(0,i.jsx)(o.A,{text:"Exporter Creation",loop:!0,delay:100,eraseDelay:40})}),(0,i.jsxs)(l.A,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(r.p,{children:"Navigate to your ServerScriptService."})}),(0,i.jsx)("div",{children:(0,i.jsx)(r.p,{children:"Create a Module Script named OrderLogModule"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.p,{children:"Use this code snippet in your new module script"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-lua",children:"local orderLog = require(15254660066)\r\nreturn orderLog\n"})})]})]})]})]})}function x(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},3420:(e,r,n)=>{n.d(r,{A:()=>d});n(6540);var t=n(6784),i=n(6188),s=n(7875),o=n(7107),a=n(4848);function d({name:e,className:r,size:n,color:o}){const d={check:i.e68,cross:i.GRI,info:i.iW_,warning:i.zpE,home:i.v02,user:i.X46,github:s.Vz1,discord:s._2G}[e.toLowerCase()];return d?(0,a.jsx)(t.g,{icon:d,className:r,size:n,color:o}):(console.warn(`Icon "${e}" not found. Please check the icon name or import it.`),null)}o.Yv.add(i.e68,i.GRI,i.iW_,i.zpE,i.v02,i.X46,s.Vz1,s._2G)},5906:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(6540);const i={numberedListContainer:"numberedListContainer_F1dH",numberedListItem:"numberedListItem_u5YF",numberCircle:"numberCircle_x0Xd",content:"content_hlfO"};var s=n(4848);function o({number:e,children:r}){return(0,s.jsxs)("div",{className:i.numberedListItem,children:[(0,s.jsx)("div",{className:i.numberCircle,children:e}),(0,s.jsx)("div",{className:i.content,children:r})]})}function a({children:e}){const r=t.Children.toArray(e);return(0,s.jsx)("div",{className:i.numberedListContainer,children:r.map((e,r)=>(0,s.jsx)(o,{number:r+1,children:e},r))})}},6889:(e,r,n)=>{n.d(r,{A:()=>o});n(6540);var t=n(4164);const i={browserWindow:"browserWindow_my1Q",browserWindowHeader:"browserWindowHeader_jXSR",row:"row_KZDM",buttons:"buttons_uHc7",right:"right_oyze",browserWindowAddressBar:"browserWindowAddressBar_Pd8y",dot:"dot_giz1",browserWindowMenuIcon:"browserWindowMenuIcon_Vhuh",bar:"bar_rrRL",browserWindowBody:"browserWindowBody_Idgs"};var s=n(4848);function o({children:e,minHeight:r,url:n="http://localhost:3000",style:o,bodyStyle:a}){return(0,s.jsxs)("div",{className:i.browserWindow,style:{...o,minHeight:r},children:[(0,s.jsxs)("div",{className:i.browserWindowHeader,children:[(0,s.jsxs)("div",{className:i.buttons,children:[(0,s.jsx)("span",{className:i.dot,style:{background:"#f25f58"}}),(0,s.jsx)("span",{className:i.dot,style:{background:"#fbbe3c"}}),(0,s.jsx)("span",{className:i.dot,style:{background:"#58cb42"}})]}),(0,s.jsx)("div",{className:(0,t.A)(i.browserWindowAddressBar,"text--truncate"),children:n}),(0,s.jsx)("div",{className:i.browserWindowMenuIcon,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:i.bar}),(0,s.jsx)("span",{className:i.bar}),(0,s.jsx)("span",{className:i.bar})]})})]}),(0,s.jsx)("div",{className:i.browserWindowBody,style:a,children:e})]})}},7439:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(6540);const i={typewriterContainer:"typewriterContainer_SCGi",blinkingCursor:"blinkingCursor_HsBJ",blink:"blink_S4ul"};var s=n(7635),o=n(4848);function a({text:e,delay:r=100,loop:n=!1,eraseDelay:a=50,startDelay:d=1e3,showCursor:l=!1}){const[c,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(0),[p,g]=(0,t.useState)(!1),[x,y]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t;if(!p&&h<e.length){y(!1);t=setTimeout(()=>{u(r=>r+e[h]),m(e=>e+1)},0!==h||p?r:d)}else n&&h===e.length&&!p?(y(!0),t=setTimeout(()=>{g(!0)},d)):p&&h>0?(y(!1),t=setTimeout(()=>{u(e=>e.slice(0,-1)),m(e=>e-1)},a)):n&&p&&0===h?(y(!1),t=setTimeout(()=>{g(!1)},d)):n||h!==e.length||y(!0);return()=>clearTimeout(t)},[h,p,e,r,n,a,d]),(0,o.jsxs)("span",{className:i.typewriterContainer,children:[(0,o.jsx)(s.A,{animated:!0,children:c}),l&&(x||!n&&h<e.length||n&&h>0)&&(0,o.jsx)("span",{className:i.blinkingCursor})]})}},7635:(e,r,n)=>{n.d(r,{A:()=>o});n(6540);var t=n(4164);const i={gradientTextAnimated:"gradientTextAnimated_bQuH",gradientAnimation:"gradientAnimation_vMBw"};var s=n(4848);function o({children:e,gradient:r,animated:n=!1}){const o=!n&&r?{background:r,WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent",display:"inline-block"}:{};return(0,s.jsx)("span",{className:(0,t.A)({[i.gradientTextAnimated]:n}),style:o,children:e})}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>a});var t=n(6540);const i={},s=t.createContext(i);function o(e){const r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);