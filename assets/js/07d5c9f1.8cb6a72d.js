"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[230],{902:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>p,contentTitle:()=>u,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>f});const t=JSON.parse('{"id":"creations/hyra-cafepos-orderlogs","title":"Hyra CafePOS Order Logs","description":"Prerequisites","source":"@site/docs/creations/hyra-cafepos-orderlogs.mdx","sourceDirName":"creations","slug":"/creations/hyra-cafepos-orderlogs","permalink":"/creations/hyra-cafepos-orderlogs","draft":false,"unlisted":false,"editUrl":"https://github.com/mrslugmoon/slugmoon-dev-docs/tree/main/docs/creations/hyra-cafepos-orderlogs.mdx","tags":[],"version":"current","frontMatter":{"title":"Hyra CafePOS Order Logs"},"sidebar":"tutorialSidebar","previous":{"title":"Creations & Modules","permalink":"/category/creations--modules"},"next":{"title":"Slugmoon Nametags","permalink":"/creations/slugmoon-nametags"}}');var o=n(4848),a=n(8453),i=n(7439),s=n(7635),l=n(6889),c=(n(5906),n(7941));const d={title:"Hyra CafePOS Order Logs"},u=void 0,p={},f=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Creating an Exporter",id:"creating-an-exporter",level:2}];function m(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(c.A,{name:"fa-brands fa-discord",color:"green"})," You must have an active Hyra Instance."]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(c.A,{name:"check",color:"green"})," You must be able to create an API key."]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(c.A,{name:"check",color:"green"})," You must own easyPOS's CafePOS."]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"steps",children:"Steps"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:"Create an Exporter; you can use the section below to help you. Return back to this page afterwards."}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsxs)(r.p,{children:["Create a new ",(0,o.jsx)(c.A,{name:"file"})," ",(0,o.jsx)(s.A,{animated:!0,children:"Script"})," in ","\u2601\ufe0f"," ",(0,o.jsx)(s.A,{animated:!0,children:"ServerScriptService"}),". Name it anything."]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:"Go inside the script and add the code below:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lua",children:'local apikey = "YOUR_API_KEY" -- Replace with your actual API KEY\r\nlocal workspaceid = "YOUR_WORKSPACE_ID" -- Replace with your workspace id.\r\nlocal exporterlocation = game.ServerScriptService:WaitForChild("OrderLogModule") -- Replace this with your exporter\'s location.\r\nlocal orderLog = require(exporterlocation)\r\norderLog.setupAPI(apikey, workspaceid)\n'})}),"\n",(0,o.jsxs)(r.ol,{start:"3",children:["\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:"Make sure you have changed everything where it says to change it."}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsxs)(r.p,{children:["Create a ",(0,o.jsx)(c.A,{name:"file"})," ",(0,o.jsx)(s.A,{animated:!0,children:"ModuleScript"})," in your Addons folder in your CafePOS instance. You can name it Order Logging or anything else you want it to be."]}),"\n",(0,o.jsx)(r.p,{children:"If you do not have an Addons folder, create one in the CafePOS instance."}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:"Paste the code below into it. You are recommended not to modify it."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lua",children:'local Module = require(121652996197382)\r\nlocal API = Module.API\r\n\r\n\r\nlocal AddonId = 5378 -- This is required for interacting with the API\r\nlocal Menu = nil\r\nlocal OrderModule = require(game.ServerScriptService:WaitForChild("OrderLogModule"))\r\nlocal orders = {\r\n\r\n}\r\n\r\n\r\nlocal Menu = API:Invoke("GetMenu", { ID=AddonId })\r\n\r\nlocal function GetItem(ID)\r\n  for _, Category in pairs(Menu) do\r\n    if Category and Category.Items then -- Check if Category and its Items exist\r\n      for _, Item in pairs(Category.Items) do\r\n        if Item and Item.ID == ID then -- Check if Item and its ID exist\r\n          return Item\r\n        end\r\n      end\r\n    end\r\n  end\r\n  return nil\r\nend\r\n\r\nreturn {\r\n\r\n  Name = "Order Logging",\r\n\r\n  -- Triggers when the order handler is ready.\r\n  Initialise = function(ID)\r\n    AddonId = ID\r\n    Menu = API:Invoke("GetMenu", { ID=AddonId })\r\n  end,\r\n\r\n  -- Triggers when a new order is placed.\r\n  OrderCreated = function(Order)\r\n    local items = {}\r\n    local itemsToProcess = Order.Items\r\n    for _, itemData in pairs(itemsToProcess) do\r\n      local itemId = itemData.ID\r\n\r\n      local fullItemDetails = GetItem(itemId)\r\n\r\n      if fullItemDetails then\r\n        table.insert(items, fullItemDetails.Name)\r\n      else\r\n        warn("Item with ID:", itemId, "not found in the menu.")\r\n      end\r\n    end\r\n    game.ReplicatedStorage.test:Fire(Order)\r\n    local order = OrderModule.createOrder(Order.Player, Order.Player, {\r\n      items = items,\r\n      status = "waiting_for_preparation",\r\n    })\r\n    local player = Order.Player\r\n    orders[player] = order.id\r\n    items = {}\r\n\r\n  end,\r\n\r\n  -- Triggers when an order is removed by an admin (NOT COMPLETED).\r\n  OrderRemoved = function(Order)\r\n    OrderModule.setCancelled(orders[Order.Player])\r\n    orders[Order.Player] = nil\r\n  end,\r\n\r\n  -- Triggers when an order is claimed.\r\n  OrderClaimed = function(Order, Player)\r\n    OrderModule.setPreparing(orders[Order.Player], Player) -- Or spoof a player object (see docs - Creating an Order, Using User Object)\r\n  end,\r\n\r\n  -- Triggers when an order is unclaimed by an admin.\r\n  OrderUnclaimed = function(Order, Player)\r\n    OrderModule.setReprepare(orders[Order.Player])\r\n  end,\r\n\r\n  -- Triggers when an order is completed.\r\n  OrderCompleted = function(Order, Player)\r\n    OrderModule.setComplete(orders[Order.Player])\r\n    orders[Order.Player] = nil\r\n  end,\r\n\r\n  -- Triggers whenever an order is created or updated. All orders are returned.\r\n  OrdersUpdated = function(Orders)\r\n\r\n  end,\r\n}\n'})}),"\n",(0,o.jsxs)(r.ol,{start:"6",children:["\n",(0,o.jsx)(r.li,{children:"Ensure that is all saved. HTTP requests MUST be on."}),"\n"]}),"\n",(0,o.jsxs)(r.p,{children:["Enjoy your Order Logging system! If you need any help, my DMs are always open. If they are not, email me at ",(0,o.jsx)(r.a,{href:"mailto:slugmoon@slugmoon.com",children:"slugmoon@slugmoon.com"})]}),"\n",(0,o.jsx)(r.h2,{id:"limitations",children:"Limitations"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsx)(r.li,{children:"You can't see who placed the order, due to lacking CafePOS APIs."}),"\n",(0,o.jsx)(r.li,{children:"If they ordered more than one of the same items, it may only show as one. Might work."}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"creating-an-exporter",children:"Creating an Exporter"}),"\n",(0,o.jsx)(r.p,{children:"Use the site below to create an Exporter for your CafePOS instance. This is required to use the Order Logging module."}),"\n",(0,o.jsx)(r.admonition,{type:"warning",children:(0,o.jsx)(r.p,{children:"The site below is not an actual site, do not try to visit it. We are using it as a placeholder for the Exporter creation.\r\nWe are not responsible for any issues that may occur if you try to visit it."})}),"\n",(0,o.jsxs)(l.A,{url:"https://docs.hyra.io/api-reference/players/module/creating-an-exporter/devs/raw",children:[(0,o.jsx)(r.h1,{id:"",children:(0,o.jsx)(i.A,{text:"Exporter Creation",loop:!0,delay:100,eraseDelay:40})}),(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsx)(r.p,{children:"Navigate to your ServerScriptService."}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsxs)(r.p,{children:["Create a ",(0,o.jsx)(c.A,{name:"paper"})," Module Script named OrderLogModule"]}),"\n"]}),"\n",(0,o.jsxs)(r.li,{children:["\n",(0,o.jsxs)(r.p,{children:["Use this ",(0,o.jsx)(c.A,{name:"file"})," code snippet in your new module script:"]}),"\n"]}),"\n"]}),(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lua",children:"local orderLog = require(15254660066)\r\nreturn orderLog\n"})})]})]})}function h(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},5906:(e,r,n)=>{n(6540);n(4848)},6889:(e,r,n)=>{n.d(r,{A:()=>i});n(6540);var t=n(4164);const o={browserWindow:"browserWindow_my1Q",browserWindowHeader:"browserWindowHeader_jXSR",row:"row_KZDM",buttons:"buttons_uHc7",right:"right_oyze",browserWindowAddressBar:"browserWindowAddressBar_Pd8y",dot:"dot_giz1",browserWindowMenuIcon:"browserWindowMenuIcon_Vhuh",bar:"bar_rrRL",browserWindowBody:"browserWindowBody_Idgs"};var a=n(4848);function i({children:e,minHeight:r,url:n="http://localhost:3000",style:i,bodyStyle:s}){return(0,a.jsxs)("div",{className:o.browserWindow,style:{...i,minHeight:r},children:[(0,a.jsxs)("div",{className:o.browserWindowHeader,children:[(0,a.jsxs)("div",{className:o.buttons,children:[(0,a.jsx)("span",{className:o.dot,style:{background:"#f25f58"}}),(0,a.jsx)("span",{className:o.dot,style:{background:"#fbbe3c"}}),(0,a.jsx)("span",{className:o.dot,style:{background:"#58cb42"}})]}),(0,a.jsx)("div",{className:(0,t.A)(o.browserWindowAddressBar,"text--truncate"),children:n}),(0,a.jsx)("div",{className:o.browserWindowMenuIcon,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:o.bar}),(0,a.jsx)("span",{className:o.bar}),(0,a.jsx)("span",{className:o.bar})]})})]}),(0,a.jsx)("div",{className:o.browserWindowBody,style:s,children:e})]})}},7439:(e,r,n)=>{n.d(r,{A:()=>s});var t=n(6540);const o={typewriterContainer:"typewriterContainer_SCGi",blinkingCursor:"blinkingCursor_HsBJ",blink:"blink_S4ul"};var a=n(7635),i=n(4848);function s({text:e,delay:r=100,loop:n=!1,eraseDelay:s=50,startDelay:l=1e3,showCursor:c=!1}){const[d,u]=(0,t.useState)(""),[p,f]=(0,t.useState)(0),[m,h]=(0,t.useState)(!1),[y,g]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t;if(!m&&p<e.length){g(!1);t=setTimeout(()=>{u(r=>r+e[p]),f(e=>e+1)},0!==p||m?r:l)}else n&&p===e.length&&!m?(g(!0),t=setTimeout(()=>{h(!0)},l)):m&&p>0?(g(!1),t=setTimeout(()=>{u(e=>e.slice(0,-1)),f(e=>e-1)},s)):n&&m&&0===p?(g(!1),t=setTimeout(()=>{h(!1)},l)):n||p!==e.length||g(!0);return()=>clearTimeout(t)},[p,m,e,r,n,s,l]),(0,i.jsxs)("span",{className:o.typewriterContainer,children:[(0,i.jsx)(a.A,{animated:!0,children:d}),c&&(y||!n&&p<e.length||n&&p>0)&&(0,i.jsx)("span",{className:o.blinkingCursor})]})}},7635:(e,r,n)=>{n.d(r,{A:()=>i});n(6540);var t=n(4164);const o={gradientText:"gradientText_sA5w","gradient-text-animated":"gradient-text-animated_yzkH","gradient-animation":"gradient-animation_vU67"};var a=n(4848);function i({children:e,className:r}){return(0,a.jsx)("span",{className:(0,t.A)(o.gradientText,o["gradient-text-animated"],r),children:e})}},7941:(e,r,n)=>{n.d(r,{A:()=>A});var t=n(6540),o=n(7107),a=n(5556),i=n.n(a);function s(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach(function(r){d(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return f(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function m(e){return r=e,(r-=0)==r?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1);var r}var h=["style"];var y=!1;try{y=!0}catch(S){}function g(e){return e&&"object"===c(e)&&e.prefix&&e.iconName&&e.icon?e:o.qg.icon?o.qg.icon(e):null===e?null:e&&"object"===c(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function b(e,r){return Array.isArray(r)&&r.length>0||!Array.isArray(r)&&r?d({},e,r):{}}var x={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},j=t.forwardRef(function(e,r){var n=l(l({},x),e),t=n.icon,a=n.mask,i=n.symbol,s=n.className,c=n.title,u=n.titleId,f=n.maskId,m=g(t),h=b("classes",[].concat(p(function(e){var r,n=e.beat,t=e.fade,o=e.beatFade,a=e.bounce,i=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,p=e.pulse,f=e.fixedWidth,m=e.inverse,h=e.border,y=e.listItem,g=e.flip,b=e.size,x=e.rotation,j=e.pull,w=(d(r={"fa-beat":n,"fa-fade":t,"fa-beat-fade":o,"fa-bounce":a,"fa-shake":i,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":p,"fa-fw":f,"fa-inverse":m,"fa-border":h,"fa-li":y,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(b),null!=b),d(r,"fa-rotate-".concat(x),null!=x&&0!==x),d(r,"fa-pull-".concat(j),null!=j),d(r,"fa-swap-opacity",e.swapOpacity),r);return Object.keys(w).map(function(e){return w[e]?e:null}).filter(function(e){return e})}(n)),p((s||"").split(" ")))),j=b("transform","string"==typeof n.transform?o.qg.transform(n.transform):n.transform),O=b("mask",g(a)),v=(0,o.Kk)(m,l(l(l(l({},h),j),O),{},{symbol:i,title:c,titleId:u,maskId:f}));if(!v)return function(){var e;!y&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",m),null;var I=v.abstract,P={ref:r};return Object.keys(n).forEach(function(e){x.hasOwnProperty(e)||(P[e]=n[e])}),w(I[0],P)});j.displayName="FontAwesomeIcon",j.propTypes={beat:i().bool,border:i().bool,beatFade:i().bool,bounce:i().bool,className:i().string,fade:i().bool,flash:i().bool,mask:i().oneOfType([i().object,i().array,i().string]),maskId:i().string,fixedWidth:i().bool,inverse:i().bool,flip:i().oneOf([!0,!1,"horizontal","vertical","both"]),icon:i().oneOfType([i().object,i().array,i().string]),listItem:i().bool,pull:i().oneOf(["right","left"]),pulse:i().bool,rotation:i().oneOf([0,90,180,270]),shake:i().bool,size:i().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:i().bool,spinPulse:i().bool,spinReverse:i().bool,symbol:i().oneOfType([i().bool,i().string]),title:i().string,titleId:i().string,transform:i().oneOfType([i().string,i().object]),swapOpacity:i().bool};var w=function e(r,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var o=(n.children||[]).map(function(n){return e(r,n)}),a=Object.keys(n.attributes||{}).reduce(function(e,r){var t=n.attributes[r];switch(r){case"class":e.attrs.className=t,delete n.attributes.class;break;case"style":e.attrs.style=t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,r){var n,t=r.indexOf(":"),o=m(r.slice(0,t)),a=r.slice(t+1).trim();return o.startsWith("webkit")?e[(n=o,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[o]=a,e},{});break;default:0===r.indexOf("aria-")||0===r.indexOf("data-")?e.attrs[r.toLowerCase()]=t:e.attrs[m(r)]=t}return e},{attrs:{}}),i=t.style,s=void 0===i?{}:i,c=u(t,h);return a.attrs.style=l(l({},a.attrs.style),s),r.apply(void 0,[n.tag,l(l({},a.attrs),c)].concat(p(o)))}.bind(null,t.createElement),O=n(6188),v=n(7875),I=n(4848);const P={paper:"file",cross:"times",info:"info-circle",warning:"exclamation-triangle",linkedin:"linkedin-in"},k={check:O.e68,gamepad:O.Rbk,user:O.X46,file:O.A4h,"info-circle":O.iW_,times:O.GRI,"warning-fa":O.zpE,home:O.v02,cog:O.dB,download:O.cbP,upload:O.JmV,book:O.LBj,envelope:O.y_8,"arrow-right":O.dmS,github:v.Vz1,discord:v._2G,twitter:v.HQ1,"x-twitter":v.NLt,instagram:v.QV6,facebook:v.aUl,"linkedin-in":v.B_4,youtube:v.B4m,patreon:v.tiM};function A({name:e,className:r,size:n,color:t}){let o=e.toLowerCase();o=o.replace(/^fa-(solid|brands|regular)\s+/,"").replace(/^fa-/,"").trim();const a=P[o]||o,i=k[a];if(!i)return console.warn(`Icon definition for "${e}" (Cleaned: "${o}", FA name: "${a}") not found in faNameToIconObjectMap. Please ensure: 1. It's correctly imported from '@fortawesome/free-*-svg-icons'. 2. It's added to 'faNameToIconObjectMap' in src/components/Icon/index.js. 3. Your alias in 'inputNameToFaNameMap' is correct if applicable.`),(0,I.jsxs)("span",{className:r,style:{color:t},children:["[Icon: ",e," (missing)]"]});let s="";return"sm"===n?s="sm":"lg"===n?s="lg":"xl"===n?s="xl":"2x"===n&&(s="2x"),(0,I.jsx)(j,{icon:i,className:r,size:s,style:{color:t,verticalAlign:"middle",marginLeft:"0.2em",marginRight:"0.2em"}})}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>s});var t=n(6540);const o={},a=t.createContext(o);function i(e){const r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(a.Provider,{value:r},e.children)}}}]);